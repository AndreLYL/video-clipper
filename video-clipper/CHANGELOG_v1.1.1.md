# 更新日志 v1.1.1

## 🎯 主要更改

### ✨ 新增功能

1. **中文标点符号自动识别**
   - 自动将中文冒号（`：`）转换为英文冒号（`:`）
   - 自动将全角数字（`０-９`）转换为半角数字（`0-9`）
   - 自动将中文破折号（`－`、`—`）转换为英文减号（`-`）

2. **格式不完整时自动跳过**
   - 缺少秒数的时间格式（如 `12:30`、`12点13分`）将自动跳过，不会进行剪辑
   - 批量剪辑时会在报告中显示"跳过"状态
   - 避免因格式错误导致整个批量任务失败

3. **增强的HTML报告**
   - 新增"跳过"状态统计
   - 为跳过的条目添加橙色标识
   - 详细显示跳过原因

### 🔧 功能优化

1. **时间格式解析增强**
   - 更智能的格式识别
   - 更详细的错误提示
   - 返回 `None` 表示跳过（而不是抛出异常）

2. **用户体验改进**
   - 更清晰的帮助文档说明
   - 明确标注必须包含秒数的要求
   - 更友好的错误提示

## 📝 支持的时间格式

### ✅ 有效格式（会进行剪辑）

| 格式 | 示例 | 说明 |
|------|------|------|
| `HH:MM:SS` | `12:30:45` | 标准格式 |
| `YYYY-MM-DD HH:MM:SS` | `2025-11-13 00:26:39` | 完整日期时间 |
| `YYYY年MM月DD日HH:MM:SS` | `2025年11月13日00:26:50` | 中文日期时间 |
| `HH点MM分SS秒` | `00点34分20秒` | 中文时间 |
| `12：35：00` | `12：35：00` | 中文标点符号（自动转换） |

### ⊘ 无效格式（会自动跳过）

| 格式 | 示例 | 原因 |
|------|------|------|
| `HH:MM` | `12:30` | 缺少秒数 |
| `HH点MM分` | `12点13分` | 缺少秒数 |
| `YYYY-MM-DD HH:MM` | `2025-11-13 12:35` | 缺少秒数 |
| `YYYY年MM月DD日HH:MM` | `2025年11月13日12:35` | 缺少秒数 |

## 🧪 测试结果

- ✅ 20个测试用例全部通过
- ✅ 中文标点符号识别正常
- ✅ 格式不完整时正确跳过
- ✅ HTML报告显示正常

## 📖 更新的文件

- `video_clipper.py` - 核心功能更新
- `test_edge_cases.py` - 测试用例更新
- `timestamp_example.txt` - 示例文件更新
- `test_skip_formats.txt` - 新增测试文件

## ⚠️ 重要提示

**必须包含秒数！** 所有时间格式必须包含秒数才能进行剪辑。如果时间格式不完整（缺少秒数），该条目将被自动跳过，不会进行剪辑。

## 🎨 HTML报告新特性

批量剪辑完成后的HTML报告现在包含：

1. **四项统计指标**
   - 总计：所有条目数量
   - 成功：成功剪辑的数量（绿色）
   - 跳过：格式不完整被跳过的数量（橙色）
   - 失败：错误导致失败的数量（红色）

2. **详细的条目信息**
   - 每个跳过的条目会显示跳过原因
   - 橙色边框标识跳过的条目
   - 清晰的视觉反馈

## 🚀 升级建议

建议从 v1.1.0 升级到 v1.1.1，以获得更好的用户体验和更智能的错误处理。

---

**作者**: andre.li  
**日期**: 2025-11-14  
**版本**: v1.1.1

